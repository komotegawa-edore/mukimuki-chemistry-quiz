# Gemini用プロンプト: カリキュラム作成ロジック設計

以下のプロンプトをGeminiに送信して、カリキュラム作成ロジックを詰めてください。

---

## プロンプト

```
あなたは大学受験の学習計画アドバイザーです。
私は「Roopy」という大学受験向け学習ロードマップアプリを開発しています。

ユーザーが入力した情報をもとに、最適な学習カリキュラム（教材×期間×1日のタスク）を自動生成するロジックを設計したいです。

---

## 現在のデータ構造

### 入力パラメータ
- 志望校レベル: 日東駒専 / MARCH / 関関同立 / 早慶 / 阪大 / 京大 / 東大
- 現在のレベル: E1〜E10（または偏差値30〜75）
- 苦手分野: 英単語 / 文法 / 長文 / 英文解釈 / リスニング / 英作文
- 1日の学習時間: 30分 / 60分 / 90分 / 120分 / 180分
- 試験までの日数: ユーザーが日付で指定

### ステージ定義（E1〜E10）
- E1: 中学レベル
- E2: 高1基礎
- E3: 高1〜2基礎文法
- E4: 文法演習中
- E5: 標準文法完了
- E6: 英文解釈入門中
- E7: 英文解釈基礎完了（→ MARCH/関関同立レベル）
- E8: 長文応用中（→ 早慶レベル）
- E9: 難関対策中（→ 阪大レベル）
- E10: 最終仕上げ（→ 京大/東大レベル）

### 志望校レベルと必要ステージの対応
- 日東駒専 → E6まで到達
- MARCH/関関同立 → E7まで到達
- 早慶 → E8まで到達
- 阪大 → E9まで到達
- 京大/東大 → E10まで到達

### 教材カテゴリと進行ルール
- **英単語・英熟語**: 他と並行して毎日コツコツ（常時進行）
- **文法 → 文法演習**: 順番に進行
- **英文解釈**: 文法完了後に開始
- **長文**: 英文解釈完了後に開始
- **英作文・リスニング**: 長文完了後（発展フェーズ）

### 教材マスタの例
各教材には以下の情報がある:
- stage_id: どのステージで使用するか
- material_category: 英単語/文法/文法演習/解釈/長文など
- total_chapters: 総章数（例: 50章）
- standard_minutes_per_chapter: 1章あたりの標準学習時間（例: 15分）
- recommended_days: 推奨完了日数（例: 30日）
- recommended_cycles: 推奨周回数（例: 3周）

---

## 設計したいロジック

### 1. ステージ決定ロジック
入力: 現在レベル（E1〜E10 or 偏差値）、志望校レベル
出力: 通過すべきステージのリスト（例: E3→E4→E5→E6→E7）

質問:
- 偏差値からステージへの変換ロジックはどうすべきか？
- 苦手分野がある場合、特定ステージを重点化すべきか？

### 2. 教材選定ロジック
入力: ステージリスト、ユーザーが選択した教材
出力: 各ステージで使用する教材リスト

質問:
- 同じカテゴリに複数教材がある場合、どう選定すべきか？
- 苦手分野の教材は複数入れるべきか？

### 3. スケジュール生成ロジック
入力: 教材リスト、1日の学習時間、残り日数
出力: 各教材の開始日・終了日、1日あたりのタスク

質問:
- 日数が足りない場合はどう調整すべきか？（周回数を減らす？1日の量を増やす？）
- 並行進行する教材（単語＋文法など）の時間配分はどうすべきか？
- 1日の学習時間が60分の場合、単語30分＋文法30分のように分けるべきか？

### 4. デイリータスク生成ロジック
入力: 教材スケジュール
出力: 日付ごとの具体的なタスク（「システム英単語 第1-3章」など）

質問:
- 1日に複数教材のタスクがある場合の優先順位は？
- 週末と平日で量を変えるべきか？

---

## 制約条件
- 試験日は固定（ユーザー入力）
- 教材の順序は原則変えられない（文法→解釈→長文の順）
- 英単語は最初から最後まで並行して進める
- 同じ教材を複数周回する場合がある

---

## 出力してほしいもの
1. 各ロジックの具体的なアルゴリズム（疑似コードまたはフローチャート）
2. エッジケースの対処法（日数不足、教材過多など）
3. 時間配分の推奨ルール
4. 苦手分野の重点化ルール

受験指導の経験に基づいて、現実的で効果的なロジックを提案してください。
```

---

## 追加で聞くべき質問（必要に応じて）

### 周回数について
```
教材の周回数について詳しく教えてください。
- 1周目、2周目、3周目でそれぞれどのくらいの時間がかかるか？（例: 2周目は1周目の70%）
- 周回ごとにやるべき内容は変わるか？（1周目: 全部やる、2周目: 間違えたところだけ、など）
```

### バッファについて
```
スケジュールにバッファ（余裕）を持たせるべきですか？
- 全体の何%くらいをバッファにすべきか？
- バッファはどこに配置すべきか？（各教材の間？週末？最後にまとめて？）
```

### 遅延対応について
```
ユーザーが予定通り進められなかった場合のリスケジュールロジックを教えてください。
- 1日遅れた場合、翌日に追加すべきか、全体を後ろにずらすべきか？
- 大幅に遅れた場合、カリキュラムを再生成すべきか？
```

---

## Geminiの回答を受けた後のNext Step

1. 回答をもとにSwiftでロジックを実装
2. テストデータで検証
3. 必要に応じてロジック調整
