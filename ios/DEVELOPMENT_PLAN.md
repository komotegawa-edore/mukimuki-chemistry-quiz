# Roopy iOSアプリ 開発計画

## 概要

Roopyの学習ロードマップ機能をiOSアプリとしてリリースし、有料ユーザー1,000人を目指す。

---

## ビジネスモデル

### 料金体系

| プラン | 価格 | 決済方法 |
|--------|------|----------|
| 月額 | ¥1,000 | App Store IAP / Stripe（Web） |
| 年額 | ¥9,800 | App Store IAP / Stripe（Web） |

### 無料 vs 有料機能

| 無料 | 有料（月額1,000円） |
|------|---------------------|
| クイズ全機能 | ロードマップ作成・保存 |
| ポイント・ランキング | ガントチャート表示 |
| ログインボーナス | PDF出力 |
| ロードマップ（デモ） | 進捗管理・リマインド |

---

## フェーズ

### Phase 1: iOSアプリ完成・審査通過
- 機能実装完了
- App Store審査提出・通過

### Phase 2: 有料機能（IAP）実装
- App Store IAP実装
- 有料/無料の機能制限

### Phase 3: Meta広告開始
- 広告クリエイティブ作成
- 広告運用開始

### Phase 4: Web版Stripe決済追加
- edore-edu.comでStripe決済
- スケール時に実装

---

## 残タスク

### 機能実装（未完了）

| 機能 | 状態 | 優先度 | 詳細 |
|------|------|--------|------|
| カリキュラム作成ロジック | 🔴 未完了 | 高 | 教材×期間×学力レベルから最適なスケジュールを生成 |
| 復習モード | 🔴 未完了 | 高 | 間違えた問題を再出題 |
| 履歴モード | 🔴 未完了 | 中 | 過去の学習履歴を表示 |
| ログインボーナス | 🔴 未完了 | 中 | ボーナスが正しく付与されない |

### 審査準備

| 項目 | 状態 | 備考 |
|------|------|------|
| プライバシーポリシー | ✅ 完了 | https://edore-edu.com/privacy |
| 利用規約 | ✅ 完了 | https://edore-edu.com/terms |
| App Storeスクリーンショット | 🟡 要確認 | 6.5インチ、5.5インチ用 |
| アプリ説明文 | 🟡 要確認 | 日本語 |
| アプリアイコン | ✅ 完了 | Roopy-icon使用 |
| App Store Connect設定 | 🟡 要確認 | アプリ情報入力 |

---

## カリキュラム作成ロジック（設計メモ）

### 入力パラメータ

```swift
struct RoadmapInputParams {
    let currentLevel: String          // 現在のレベル（E1〜E10）
    let currentDeviationValue: Double? // 偏差値（30〜75）
    let weakAreas: [String]           // 苦手分野
    let dailyStudyMinutes: Int        // 1日の学習時間
    let daysUntilExam: Int            // 試験までの日数
    let targetUniversity: String?     // 志望校名
    let targetLevel: String           // 志望レベル（日東駒専〜東大）
}
```

### 出力

- ステージごとの教材リスト
- 各教材の開始日・終了日
- 1日あたりのタスク（ページ数、問題数など）
- ガントチャート用データ

### ロジック概要

1. **現在レベル → 目標レベルのステージを決定**
   - 例: E3（現在）→ E7（MARCH目標）

2. **各ステージに必要な教材を割り当て**
   - ステージごとに推奨教材マスタから選択
   - ユーザーが選択した教材を優先

3. **教材の総ページ数/問題数を計算**
   - 教材マスタから取得

4. **1日あたりの学習量を逆算**
   - 総量 ÷ 残り日数 × 係数（苦手分野は多めに）

5. **ガントチャート用にスケジュール生成**
   - 開始日・終了日を計算
   - 並行学習可能な教材は並列配置

---

## 技術スタック

- **iOS**: Swift / SwiftUI
- **バックエンド**: Supabase（認証、DB、API）
- **決済**: App Store IAP（アプリ内）/ Stripe（Web）

---

## 目標

| 指標 | 目標値 |
|------|--------|
| 有料ユーザー | 1,000人 |
| 月額収益 | 100万円 |
| 次フェーズ | toB展開（塾・予備校向け） |

---

## 更新履歴

| 日付 | 内容 |
|------|------|
| 2025-12-04 | 初版作成 |
